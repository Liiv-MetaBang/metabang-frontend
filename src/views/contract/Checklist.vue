<template>
  <div class="wrap components-page">
    <div class="wrap">
      <h1
        style="
          background: yellowgreen;
          height: 60px;
          display: flex;
          justify-content: center;
          align-items: center;
        "
      >
        ê³„ì•½ ì²´í¬ë¦¬ìŠ¤íŠ¸ ğŸ“ƒ
      </h1>
      <br />
    </div>

    <div class="wrapB">
      <div style="text-align: center">
        <img src="../../../public/img/í‚¤í‚¤.png" />
      </div>
      <v-list subheader three-line>
        <v-subheader
          style="font-size: 18px; font-family: 'NEXON Lv1 Gothic OTF'"
          >{{ name }}ë‹˜ <br />ê³„ì•½ì „ì— ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ê¼­ í™•ì¸í•˜ì„¸ìš”!</v-subheader
        >
      </v-list>

      <v-divider></v-divider>

      <v-list flat subheader three-line>
        <v-list-item-group multiple active-class="">
          <v-list-item>
            <template v-slot:default="{ active }">
              <v-list-item-action @click="changeSkill(0)">
                <v-checkbox
                  :input-value="active"
                  v-model="checkbox[0]"
                ></v-checkbox>
              </v-list-item-action>

              <v-list-item-content>
                <v-list-item-title>ë§¤ë¬¼</v-list-item-title>
                <v-list-item-subtitle
                  >ë°© ë‘˜ëŸ¬ë³´ê³  ë§¤ë¬¼ì˜ ë“±ê¸°ë¶€ë“±ë³¸ì„
                  í™•ì¸í•´ë³´ê¸°!</v-list-item-subtitle
                >
              </v-list-item-content>
            </template>
          </v-list-item>

          <v-list-item>
            <template v-slot:default="{ active }">
              <v-list-item-action @click="changeSkill(1)">
                <v-checkbox
                  :input-value="active"
                  v-model="checkbox[1]"
                ></v-checkbox>
              </v-list-item-action>

              <v-list-item-content>
                <v-list-item-title>ëŒ€ì¶œ</v-list-item-title>
                <v-list-item-subtitle>
                  ê±°ë˜ì‹œ ëŒ€ì¶œ í•„ìš” ì—¬ë¶€ë¥¼ ê²°ì •í•˜ê³  ì›”/ì „ì„¸ ìê¸ˆ ëŒ€ì¶œì´ ê°€ëŠ¥í•œ
                  ì§‘ì¸ì§€ ì²´í¬í•˜ê¸°!</v-list-item-subtitle
                >
                <span style="color:red" @click="gotoLoan"
                  >í˜¹ì‹œ ëŒ€ì¶œì´ í•„ìš”í•˜ì‹ ê°€ìš”?</span
                >
              </v-list-item-content>
            </template>
          </v-list-item>

          <v-list-item>
            <template v-slot:default="{ active }">
              <v-list-item-action @click="changeSkill(2)">
                <v-checkbox
                  :input-value="active"
                  v-model="checkbox[2]"
                ></v-checkbox>
              </v-list-item-action>

              <v-list-item-content>
                <v-list-item-title>ë³¸ì¸ í™•ì¸</v-list-item-title>
                <v-list-item-subtitle
                  >ê³„ì•½ì‹œ ë³¸ì¸ ì¸ì¦í•˜ê³  ëª¨ë‘ê°€ ë³¸ì¸ì¸ì§€ í™•ì¸í•˜ê¸°!
                </v-list-item-subtitle>
              </v-list-item-content>
            </template>
          </v-list-item>

          <v-list-item>
            <template v-slot:default="{ active }">
              <v-list-item-action @click="changeSkill(3)">
                <v-checkbox
                  :input-value="active"
                  v-model="checkbox[3]"
                ></v-checkbox>
              </v-list-item-action>

              <v-list-item-content>
                <v-list-item-title>ê³„ì•½ì„œ</v-list-item-title>
                <v-list-item-subtitle
                  >ê³„ì•½ì„œ ì‘ì„±í•˜ë©´ì„œ íŠ¹ì•½ì‚¬í•­, í˜‘ì˜ì‚¬í•­
                  í™•ì¸í•˜ê¸°!</v-list-item-subtitle
                >
              </v-list-item-content>
            </template>
          </v-list-item>

          <v-list-item>
            <template v-slot:default="{ active }">
              <v-list-item-action @click="changeSkill(4)">
                <v-checkbox
                  :input-value="active"
                  v-model="checkbox[4]"
                ></v-checkbox>
              </v-list-item-action>

              <v-list-item-content>
                <v-list-item-title>í™•ì •ì¼ì</v-list-item-title>
                <v-list-item-subtitle
                  >ì…ì£¼í•˜ê³  ì „ì…ì‹ ê³ í•  ë•Œ í™•ì •ì¼ì ë°›ê¸°!</v-list-item-subtitle
                >
              </v-list-item-content>
            </template>
          </v-list-item>
        </v-list-item-group>
      </v-list>
      <v-progress-linear v-model="skill" color="yellow" height="25">
        <template v-slot:default="{ value }">
          <strong style="font-family: 'NEXON Lv1 Gothic OTF'"
            >{{ Math.ceil(value) }}%</strong
          >
        </template>
      </v-progress-linear>
    </div>

    <div
      v-if="skill === 100"
      style="display:flex; justify-content:center;flex-direction:column;align-items:center"
    >
      <h2
        style="font-family: 'NEXON Lv1 Gothic OTF';color:red;text-align:center"
      >
        ì¶•í•˜í•©ë‹ˆë‹¤~ ì²´í¬ë¦¬ìŠ¤íŠ¸ 100% ë‹¬ì„±!
      </h2>
      <img
        src="../../../public/img/ì½œë¦¬.png"
        style="width:150px;height:auto"
      /><br />
      <button id="complete" @click="gotoConfirm">ê³„ì•½ ë‚´ìš© í™•ì¸</button>
    </div>
    <BottomNavigation />
  </div>
</template>

<script>
import BottomNavigation from "../../components/common/BottomNavigation";

export default {
  name: "checklist",
  components: {
    BottomNavigation,
  },
  methods: {
    changeSkill(index) {
      console.log(this.checkbox);
      if (this.checkbox[index]) {
        this.skill += 20;
      } else {
        this.skill -= 20;
      }
    },
    gotoConfirm() {
      this.$router.push(`/confirm`);
    },
    gotoLoan() {
      this.$router.push(`/loan`);
    },
  },
  data: () => {
    return {
      skill: 0,
      checkbox: [false, false, false, false, false],
    };
  },
  created() {
    //console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!")
    //console.log(this.$route.params.loan_flag)
    //console.log("!!!!!!!!!!----------------")
    //console.log(this.$store.state.flag.loan_flag)
    if (this.$store.state.flag.loan_flag) {
      this.checkbox[1] = true;
      this.skill += 20;
    }
    if (this.$store.state.flag.me_flag){
      this.checkbox[2]=true;
      this.skill+=20;
    }
    if (this.$store.state.flag.contract_flag){
      this.checkbox[3]=true;
      this.skill+=20;
    }
  },
  props: {
    loan_flag: { type: Boolean, default: false },
    me_flag:{type:Boolean, default:false},
  },
  computed: {
    name() {
      return this.$store.state.user.user_name;
    },
  },
};
</script>

<style scoped>
@font-face {
  font-family: "NEXON Lv1 Gothic OTF";
  src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@2.1/NEXON Lv1 Gothic OTF.woff")
    format("woff");
  font-weight: normal;
  font-style: normal;
}
.components-page {
  padding-top: 0px;
}

.components-page .header-default {
  background: linear-gradient(to right, plum, pink);
  width: 100%;
}

.v-responsive__content {
  width: 100px;
}

#complete {
  background: orange;
  color: white;
  font-family: "NEXON Lv1 Gothic OTF";
  font-size: large;
  padding: 2%;
}
</style>
